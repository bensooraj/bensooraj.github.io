{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/sending-application-logs-from-eks-to-datadog","result":{"data":{"post":{"__typename":"MdxPost","slug":"/sending-application-logs-from-eks-to-datadog","title":"Sending application logs from EKS to Datadog","date":"10.08.2020","tags":[{"name":"architecture","slug":"architecture"}],"description":null,"canonicalUrl":null,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Sending application logs from EKS to Datadog\",\n  \"date\": \"2020-08-10T11:34:32.000Z\",\n  \"draft\": false,\n  \"tags\": [\"architecture\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Datadog has been part of our stack for quite sometime now, where the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"datadog-agent\"), \" installed on the EC2 instances (baked into the image) tail log files to which the application services write to.\"), mdx(\"p\", null, \"A recent project required me to send the application logs deployed on kubernetes to Datadog. This required a different approach which I would be sharing today. A few pre-requisites before I begin:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"An up and running kubernetes cluster. I use \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://eksctl.io/\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"eksctl\")), \" to quickly spin up a k8s cluster on AWS EKS.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"A \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.datadoghq.com/\"\n  }, \"Datadog\"), \" account\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Helm v3 installed (v3 doesn't require you to setup Tiller (Helm's server component) on your kubernetes cluster)\")), mdx(\"h2\", null, \"Pre-requisites\"), mdx(\"p\", null, \"To set the context, I have a 3-node cluster set up:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"$ kubectl get nodes\\nNAME                                        STATUS   ROLES    AGE   VERSION\\nip-10-0-0-34.ap-south-1.compute.internal    Ready    <none>   9d    v1.16.13-eks-2ba888\\nip-10-0-1-144.ap-south-1.compute.internal   Ready    <none>   9d    v1.16.13-eks-2ba888\\nip-10-0-2-79.ap-south-1.compute.internal    Ready    <none>   9d    v1.16.13-eks-2ba888\\n\")), mdx(\"p\", null, \"Add and update the Datadog chart repository,\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"# Ensure that you are running helm v3\\n$ helm version --short\\nv3.3.1+g249e521\\n\\n# Add and update the Datadog and stable chart repositories\\n$ helm repo add datadog https://helm.datadoghq.com\\n\\\"datadog\\\" has been added to your repositories\\n\\n$ helm repo add stable https://kubernetes-charts.storage.googleapis.com/\\n\\\"stable\\\" has been added to your repositories\\n\\n$ helm repo update\\nHang tight while we grab the latest from your chart repositories...\\n...Successfully got an update from the \\\"stable\\\" chart repository\\nUpdate Complete. \\u2388Happy Helming!\\u2388\\n\\n$ helm repo list\\nNAME    URL                                              \\nstable  https://kubernetes-charts.storage.googleapis.com/\\ndatadog https://helm.datadoghq.com        \\n\\n# Search for datadog chart. We will be using datadog/datadog\\n$ helm search repo datadog\\nNAME            CHART VERSION   APP VERSION DESCRIPTION             \\ndatadog/datadog 2.4.13          7           Datadog Agent           \\nstable/datadog  2.3.42          7           DEPRECATED Datadog Agent\\n\")), mdx(\"p\", null, \"Clone the git repository \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"bensooraj/node-eks-datadog-integration\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"$ git clone https://github.com/bensooraj/node-eks-datadog-integration.git\\n\\n# A quick overview overview of the project structure\\n$ tree -L 2\\n.\\n\\u251C\\u2500\\u2500 Makefile\\n\\u251C\\u2500\\u2500 README.md\\n\\u251C\\u2500\\u2500 coverage\\n\\u251C\\u2500\\u2500 datadog\\n\\u2502   \\u2514\\u2500\\u2500 values.yml\\n\\u251C\\u2500\\u2500 docker\\n\\u2502   \\u2514\\u2500\\u2500 Dockerfile\\n\\u251C\\u2500\\u2500 kubernetes\\n\\u2502   \\u251C\\u2500\\u2500 deployment.yaml\\n\\u2502   \\u2514\\u2500\\u2500 service.yaml\\n\\u251C\\u2500\\u2500 node_modules\\n\\u2502   \\u251C\\u2500\\u2500 @dabh\\n\\u2502   ....\\n\\u2502   ...\\n\\u2502   ..\\n\\u2502   \\u251C\\u2500\\u2500 winston\\n\\u2502   \\u2514\\u2500\\u2500 winston-transport\\n\\u251C\\u2500\\u2500 package-lock.json\\n\\u251C\\u2500\\u2500 package.json\\n\\u2514\\u2500\\u2500 server.js\\n\\n83 directories, 9 files\\n\")), mdx(\"p\", null, \"Check \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/DataDog/helm-charts/blob/master/charts/datadog/values.yaml\"\n  }, \"datadog-values.yaml\"), \" for the latest YAML file.\"), mdx(\"h2\", null, \"Deploy the application\"), mdx(\"p\", null, \"We will be deploying an ultra simple Node.js API which logs out JSON formatted log messages whenever it receives a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET\"), \" request:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"// server.js\\nconst express = require('express');\\nconst winston = require('winston');\\n\\n// Constants\\nconst PORT = 8080;\\nconst HOST = '0.0.0.0';\\n\\nconst app = express();\\n\\nconst logger = winston.createLogger({\\n    transports: [\\n        new winston.transports.Console({\\n            handleExceptions: true,\\n        })\\n    ],\\n    level: 'debug',\\n    exitOnError: false,\\n    format: winston.format.combine(\\n        winston.format.splat(),\\n        winston.format.timestamp(),\\n        winston.format.json()\\n    ),\\n});\\n\\napp.get('/', (req, res) => {\\n    logger.silly(\\\"This is a silly message\\\", { url: req.url, environment: \\\"test\\\" });\\n    logger.debug(\\\"This is a debug message\\\", { url: req.url, environment: \\\"test\\\" });\\n    logger.info(\\\"This is an info message\\\", { url: req.url, environment: \\\"test\\\" });\\n\\n    res.json({\\n        response_message: 'Hello World'\\n    });\\n});\\n\\napp.listen(PORT, HOST);\\nlogger.info(\\\"Running on http://${HOST}:${PORT}\\\", { host: HOST, port: PORT, environment: \\\"test\\\" });\\n\")), mdx(\"p\", null, \"Relevant sections from the deployment YAML file,\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"apiVersion: apps/v1\\nkind: Deployment\\nmetadata:\\n  name: eks-datadog-demo-node-app\\n  annotations:\\n    ad.datadoghq.com/eks-datadog-demo-node-app.logs: '[{\\\"source\\\":\\\"nodejs\\\",\\\"service\\\":\\\"eks-datadog-demo-node-app\\\"}]'  \\n  labels:\\n    tags.datadoghq.com/env: \\\"test\\\"\\n    tags.datadoghq.com/service: \\\"eks-datadog-demo-node-app\\\"\\n    tags.datadoghq.com/version: \\\"v1.0.1\\\"\\nspec:\\n  # # #\\n  # #\\n  #\\n  template:\\n    metadata:\\n      annotations:\\n        ad.datadoghq.com/eks-datadog-demo-node-app.logs: '[{\\\"source\\\":\\\"nodejs\\\",\\\"service\\\":\\\"eks-datadog-demo-node-app\\\"}]'\\n      labels:\\n        app: eks-datadog-demo-node-app\\n        tags.datadoghq.com/env: \\\"test\\\"\\n        tags.datadoghq.com/service: \\\"eks-datadog-demo-node-app\\\"\\n        tags.datadoghq.com/version: \\\"v1.0.1\\\"\\n    spec:\\n      containers:\\n        - name: eks-datadog-demo-node-app\\n  # # #\\n  # #\\n  #\\n\")), mdx(\"p\", null, \"Pay close attention to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"labels\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"annotations\"), \". These are especially useful if you are planning to collect \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"traces\"), \" and application \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"metrics\"), \", which are outside the scope of this article.\"), mdx(\"p\", null, \"It's worth mentioning that you can exclude or include logs from deployments and/or pods by configuring the settings in the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.datadoghq.com/agent/logs/advanced_log_collection/?tab=kubernetes#exclude-at-match\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"annotations\")), \". For example, to exclude all logs from the above deployment configure the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"log_processing_rules\"), \" in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"annotations\"), \" section as follows:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"apiVersion: apps/v1\\nkind: Deployment\\nmetadata:\\n  name: eks-datadog-demo-node-app\\n  annotations:\\n    ad.datadoghq.com/eks-datadog-demo-node-app.logs: >-\\n      [{\\n        \\\"source\\\": \\\"nodejs\\\",\\n        \\\"service\\\": \\\"eks-datadog-demo-node-app\\\",\\n        \\\"log_processing_rules\\\": [{\\n          \\\"type\\\": \\\"exclude_at_match\\\",\\n          \\\"name\\\": \\\"exclude_this_deployment\\\",\\n          \\\"pattern\\\":\\\"\\\\.*\\\"\\n        }]\\n      }]  \\n  labels:\\n    tags.datadoghq.com/env: \\\"test\\\"\\n    tags.datadoghq.com/service: \\\"eks-datadog-demo-node-app\\\"\\n    tags.datadoghq.com/version: \\\"v1.0.1\\\"\\nspec:\\n  # # #\\n  # #\\n  #\\n\")), mdx(\"p\", null, \"Deploy the API and exopse it as a service,\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"# Deployment\\n$ kubectl apply -f kubernetes/deployment.yaml\\n\\n# Service\\n$ kubectl apply -f kubernetes/service.yaml\\n\\n# Verify that the API is up and running\\n$ kubectl get deployment,svc,po\\nNAME                                               READY   UP-TO-DATE   AVAILABLE   AGE\\ndeployment.apps/eks-datadog-demo-node-app          2/2     2            2           30h\\n\\nNAME                                       TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE\\nservice/eks-datadog-demo-node-app          ClusterIP   172.20.205.150   <none>        8080/TCP   30h\\n\\nNAME                                                    READY   STATUS    RESTARTS   AGE\\npod/eks-datadog-demo-node-app-7bf7cf764f-gpqvf          1/1     Running   0          29h\\npod/eks-datadog-demo-node-app-7bf7cf764f-spb7m          1/1     Running   0          29h\\n\")), mdx(\"h2\", null, \"Deploy the Datadog agent\"), mdx(\"p\", null, \"Open the file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"datadog/values.yml\"), \" and ensure that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"datadog.logs.enabled\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"datadog.logs.containerCollectAll\"), \" are set to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"datadog:\\n  ## @param logs - object - required\\n  ## Enable logs agent and provide custom configs\\n  #\\n  logs:\\n    ## @param enabled - boolean - optional - default: false\\n    ## Enables this to activate Datadog Agent log collection.\\n    #\\n    enabled: true\\n    ## @param containerCollectAll - boolean - optional - default: false\\n    ## Enable this to allow log collection for all containers.\\n    #\\n    containerCollectAll: true\\n\")), mdx(\"p\", null, \"Deploy the datadog-agent:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"$ helm install datadog-agent -f datadog/values.yml  --set datadog.apiKey=<DATADOG_API_KEY> datadog/datadog\\n\\n# Helm will deploy one datadog-agent pod per node\\n$ kubectl get deployment,svc,po\\nNAME                                               READY   UP-TO-DATE   AVAILABLE   AGE\\ndeployment.apps/datadog-agent-kube-state-metrics   1/1     1            1           29h\\n\\nNAME                                       TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE\\nservice/datadog-agent-kube-state-metrics   ClusterIP   172.20.129.97    <none>        8080/TCP   29h\\n\\nNAME                                                    READY   STATUS    RESTARTS   AGE\\npod/datadog-agent-b4mtv                                 2/2     Running   0          29h\\npod/datadog-agent-f6jn7                                 2/2     Running   0          29h\\npod/datadog-agent-zvp6p                                 2/2     Running   0          29h\\n\")), mdx(\"p\", null, \"Note that even though the agent is deployed in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"default\"), \" namespace, it can collect logs and metrics from deployments/pods from all namespaces.\"), mdx(\"h2\", null, \"O Logs! Where art thou?\"), mdx(\"p\", null, \"Now we have the API service (for generating logs) and the Datadog agent (for streaming the logs to Datadog) all set! I assume this is what happens behind the scenes:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The API service writes logs to \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"stdout\")), \" and \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"stderr\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"kubelet\")), \" writes these logs to \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"/var/log/pods/<namespace>_<pod_name>_<pod_id>/<container_name>/<num>.log\")), \" on the node machine\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"datadog-agent\")), \"s running on each node tails these log files and streams them to the Datadog servers\")), mdx(\"p\", null, \"Anyways, let's generate some logs:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"# Port forward to access the API service from your local machine\\n$ kubectl port-forward service/eks-datadog-demo-node-app 8080:8080\\nForwarding from 127.0.0.1:8080 -> 8080\\nForwarding from [::1]:8080 -> 8080\\n\\n# Generate some logs using curl or ab\\n$ ab -n 50 -c 2 -l http://localhost:8080/\\n\\n# Verify that the logs are generated\\nj$ kubectl logs -l app=eks-datadog-demo-node-app --since=100m\\n{\\\"url\\\":\\\"/\\\",\\\"environment\\\":\\\"test\\\",\\\"level\\\":\\\"debug\\\",\\\"message\\\":\\\"This is a debug message\\\",\\\"timestamp\\\":\\\"2020-09-04T19:35:52.126Z\\\"}\\n{\\\"url\\\":\\\"/\\\",\\\"environment\\\":\\\"test\\\",\\\"level\\\":\\\"info\\\",\\\"message\\\":\\\"This is an info message\\\",\\\"timestamp\\\":\\\"2020-09-04T19:35:53.308Z\\\"}\\n....\\n...\\n{\\\"url\\\":\\\"/\\\",\\\"environment\\\":\\\"test\\\",\\\"level\\\":\\\"debug\\\",\\\"message\\\":\\\"This is a debug message\\\",\\\"timestamp\\\":\\\"2020-09-04T19:35:53.310Z\\\"}\\n{\\\"url\\\":\\\"/\\\",\\\"environment\\\":\\\"test\\\",\\\"level\\\":\\\"info\\\",\\\"message\\\":\\\"This is an info message\\\",\\\"timestamp\\\":\\\"2020-09-04T19:35:53.310Z\\\"}\\n\")), mdx(\"p\", null, \"Navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Log Explorer\"), \" in Datadog to see the logs that we generated above\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"53.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABdUlEQVQoz5WTW27CMBBFvfqupKvoZ7+6gooP1AJ5ACGx8zTkYd/OTHBKBUKqpZEnk/jM3GtQq/U3TFmhaVp0ncU4jhiGOX7zQXJ+X9U1mrbFNE0UDvAOurFYZxU6qqu3dY7a9pjogDEl8lyjKAyFRlXV0LqUnOs1wcLy3t8FN1Z938O5STrycs5JzBNMknvvlpwn5Zwnr1q71EMo2w9o+wnny4UmKXChPXzEKwCIujQK+zDOstmKzlq0XQelSVZGctibdH+YZZPEQmvxiv3VxqBuGpHkr2Dv/DX30nQkOO8q1wZRnOBwzBCne3xtdjhmJ2x2EUVMsBLZKZc6T3BrS4jFR4Krgg4wiCEJ7dsoxpEAO2oSJ6lMfMoLeWZZj4B/PAxAPpSkBwFmt8DyCoz+CWTfeN+STJ6WAWxFkMx1Nv8pkC6IPCyR0GXwFHGQzECCRTeSuf5sQvoZyLuHHvJEDIuTvdxy8NDa8x1Q/i20Pj8ivL684wcPe07Mib3ESAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Datadog UI overview\",\n    \"title\": \"Datadog UI overview\",\n    \"src\": \"/static/92920150138c2e3c92a437808db7674b/7d769/2_dd_ui_overview.png\",\n    \"srcSet\": [\"/static/92920150138c2e3c92a437808db7674b/5243c/2_dd_ui_overview.png 240w\", \"/static/92920150138c2e3c92a437808db7674b/ab158/2_dd_ui_overview.png 480w\", \"/static/92920150138c2e3c92a437808db7674b/7d769/2_dd_ui_overview.png 960w\", \"/static/92920150138c2e3c92a437808db7674b/87339/2_dd_ui_overview.png 1440w\", \"/static/92920150138c2e3c92a437808db7674b/88b03/2_dd_ui_overview.png 1920w\", \"/static/92920150138c2e3c92a437808db7674b/8355f/2_dd_ui_overview.png 2560w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n    \")), mdx(\"p\", null, \"Click on any one of the log records to view more details\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"87.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjElEQVQ4y61U22rbQBDVL/shYD+HJLXbJr9Q2tdSKL0GGhynpiEvbnxp4pbgVL7EliXZumtXsnQ6s3YFhTbE0IXDjGZHszNzZle7NjyMJxPoowmGY5ZjDH7qMOYmhBBwXBeu5yGOBeamBdO2iz0hJKYzQ/kkSYo0TaEJmeBviwNwoNVqhTzPlS3LMoUgCOEHQWHjfQbr2rPnL1AqlVCpVFAul7GzswNd1ymYj1ani9l8rjJYLB0leXEVves+LHuhbAzOjoNqo9EIp/U6ms0mPp+dodFoYEk/8+LsojhWpTFiKpNtnAnLMIo2e6KoRLu51TGcTDHQh/D8sCjZtGx0r/r41v+uehtFMcIwAqj6yd0M7d4VyakKGIQhtShel8xpm5aFmTFXDWadT+MecfNnBCaDYREhXJrjuGt/w6BWLGEvlpSMjzyjDMd0iucH+B9LlXyrT2hsDJxftPDu4wnefDjB++M6jj+d4i3pX84v0Ot20G5fotNpo0vosL75vvzague5RVDtZjDC+G6Ol69eY3eviurjI+xXnxIOUX1yhEf0fVA7VJLtB2SvsZ1s7Lu7V0O7e4UkzYg0Cc0nIoKA2JIpRAqQQJzkiERGer7WZQZBMiQb68pH0h7pLL0gJmJiSBpujSd/6ThYUGNN0yRiZrBV8yWkICcpCiQbSCH+sKdJQkkF9E8CLZWSDFIZeZ54tngEmOltwOyrsRlMLfwYG5jarmKJGU8oOA8xX71tl2YHApYfw42kMiR00vrUrDg1y/LiHt8PGptAUP2EWK5L/td8PTjDke1jSdn5dLXsxUJlyCXzcyRJcra/gz4EmulFcCggU853ksEPApPDutw8bw/NUss2jvf9sE3JvwDnuFU0hqvF9QAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Datadog log record detail view\",\n    \"title\": \"Datadog log record detail view\",\n    \"src\": \"/static/9a7ac665728f558d37f562a6a6145a81/7d769/2_dd_log_detail_view.png\",\n    \"srcSet\": [\"/static/9a7ac665728f558d37f562a6a6145a81/5243c/2_dd_log_detail_view.png 240w\", \"/static/9a7ac665728f558d37f562a6a6145a81/ab158/2_dd_log_detail_view.png 480w\", \"/static/9a7ac665728f558d37f562a6a6145a81/7d769/2_dd_log_detail_view.png 960w\", \"/static/9a7ac665728f558d37f562a6a6145a81/a15e6/2_dd_log_detail_view.png 1265w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n    \")), mdx(\"p\", null, \"On the left pane, you can filter the logs by namespace, pods etc. as well!\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"834px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"47.08333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABk0lEQVQoz4VS7Y6bMBDk/R+r6gucrkeSIyEE8BcmNhgC4XO6dqT8aFXV0mhsrb07zBB1XQ/GBIqCEUpwLuFah8716Amd62DuFtY0aJsW07xANx0YFxBSgQuJkvZFyVEwjgi0+r7HKbkgywuk2Q2Xa4bvS4pjcsY5veIxDIjjA5JTgm3f0dDAkkRIVUFVOjRm1JgTR+u2w3YPusAhqVgbA2Mt7saGy/XdYF6WoJ6VDOsO6LZHTnuvzDf26m5U9z0iO674cTX0qTxM+dd6TlPAtm2wTRNUeYWCwIV6WUD7yE9flvX90D+Y6OGfmOcZC2EYn1DWvRV5eLXeLs/RcxzJfIevwxHx8YSEvAP59L+10+Bt80J2bOtLkLcocv0A4UbkskIudICyLSpSUZNXnn2qHl6ZMi1ETan3JGRacHcPdM8ZbpxfoSi6+PNmkeQcccbwK83xkWSIryW+Cxn485LjKy1woLrnz/Mt1JQbkJIA2VKoxiEPoVCqkjNICiRAehZ/M6FSClrXZL6GruiXoXOt9Zt97Tf2KqcBCWg7GwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Datadog log record detail view UI\",\n    \"title\": \"Datadog log record detail view UI\",\n    \"src\": \"/static/edb3e33fac874bec15c132d0daa47980/7df40/2_filter_ui_ns.png\",\n    \"srcSet\": [\"/static/edb3e33fac874bec15c132d0daa47980/5243c/2_filter_ui_ns.png 240w\", \"/static/edb3e33fac874bec15c132d0daa47980/ab158/2_filter_ui_ns.png 480w\", \"/static/edb3e33fac874bec15c132d0daa47980/7df40/2_filter_ui_ns.png 834w\"],\n    \"sizes\": \"(max-width: 834px) 100vw, 834px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n    \")), mdx(\"p\", null, \"That's it for now!\"), mdx(\"p\", null, \"I hope this helped and if you have any feedback for me, please let me know :smile:.\"), mdx(\"p\", null, \"Further reading:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://kubernetes.io/docs/concepts/cluster-administration/logging/\"\n  }, \"Logging Architecture\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.datadoghq.com/agent/kubernetes/log/?tab=daemonset#log-collection\"\n  }, \"Datadog kubernetes log collection\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.datadoghq.com/agent/kubernetes/?tab=daemonset\"\n  }, \"Datadog agent as a DaemonSet (recommended)\"))), mdx(\"hr\", null), mdx(\"p\", null, \"Note: \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"This article is not an in-depth tutorial on implemending logging for applications running on kubernetes, but a journal of my learnings.\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Datadog has been part of our stack for quite sometime now, where the  datadog-agent  installed on the EC2 instances (baked into the imageâ€¦","timeToRead":2,"banner":null}},"pageContext":{"slug":"/sending-application-logs-from-eks-to-datadog","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["3090400250","3090400250","318001574"]}